// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0

package db

import (
	"context"

	"github.com/google/uuid"
	"github.com/jackc/pgx/v5/pgtype"
)

type Querier interface {
	ArchiveNotebook(ctx context.Context, arg ArchiveNotebookParams) (int64, error)
	CountCardsByNotebook(ctx context.Context, arg CountCardsByNotebookParams) (int64, error)
	CountFactsByNotebook(ctx context.Context, arg CountFactsByNotebookParams) (int64, error)
	CountFactsByNotebookFiltered(ctx context.Context, arg CountFactsByNotebookFilteredParams) (int64, error)
	CountFactsReferencingAsset(ctx context.Context, arg CountFactsReferencingAssetParams) (int64, error)
	CountPracticeCards(ctx context.Context, arg CountPracticeCardsParams) (int64, error)
	CountReviewHistory(ctx context.Context, arg CountReviewHistoryParams) (int64, error)
	CreateAsset(ctx context.Context, arg CreateAssetParams) (Asset, error)
	CreateAuthIdentity(ctx context.Context, arg CreateAuthIdentityParams) (AuthIdentity, error)
	CreateCard(ctx context.Context, arg CreateCardParams) (Card, error)
	CreateFact(ctx context.Context, arg CreateFactParams) (AppFact, error)
	// Note: fsrs_settings is always provided from Go code (source of truth for defaults)
	CreateNotebook(ctx context.Context, arg CreateNotebookParams) (Notebook, error)
	CreateReview(ctx context.Context, arg CreateReviewParams) (AppReview, error)
	CreateSession(ctx context.Context, arg CreateSessionParams) (UserSession, error)
	CreateUser(ctx context.Context, arg CreateUserParams) (User, error)
	// Creates a user and their password auth identity in a single transaction-friendly call
	CreateUserWithPassword(ctx context.Context, arg CreateUserWithPasswordParams) (CreateUserWithPasswordRow, error)
	DeleteAsset(ctx context.Context, arg DeleteAssetParams) (int64, error)
	DeleteAssets(ctx context.Context, arg DeleteAssetsParams) (int64, error)
	DeleteCardsByFactAndElements(ctx context.Context, arg DeleteCardsByFactAndElementsParams) error
	DeleteExpiredSessions(ctx context.Context) error
	DeleteFact(ctx context.Context, arg DeleteFactParams) (int64, error)
	// Delete a review (for undo).
	DeleteReview(ctx context.Context, arg DeleteReviewParams) (int64, error)
	DeleteSession(ctx context.Context, tokenHash []byte) error
	DeleteUserSessions(ctx context.Context, userID uuid.UUID) error
	GetAsset(ctx context.Context, arg GetAssetParams) (Asset, error)
	GetAuthIdentityByEmail(ctx context.Context, email pgtype.Text) (GetAuthIdentityByEmailRow, error)
	GetAuthIdentityByProviderID(ctx context.Context, arg GetAuthIdentityByProviderIDParams) (GetAuthIdentityByProviderIDRow, error)
	GetCard(ctx context.Context, arg GetCardParams) (Card, error)
	GetCardForReview(ctx context.Context, arg GetCardForReviewParams) (Card, error)
	GetFact(ctx context.Context, arg GetFactParams) (GetFactRow, error)
	GetFactStatsByNotebook(ctx context.Context, arg GetFactStatsByNotebookParams) (GetFactStatsByNotebookRow, error)
	// Get the most recent review for a card to verify undo is for latest.
	GetLatestReviewForCard(ctx context.Context, arg GetLatestReviewForCardParams) (uuid.UUID, error)
	GetNotebook(ctx context.Context, arg GetNotebookParams) (Notebook, error)
	// Lightweight query to fetch only FSRS settings for scheduling.
	GetNotebookFSRSSettings(ctx context.Context, arg GetNotebookFSRSSettingsParams) ([]byte, error)
	// Returns all non-suspended cards for practice mode (no due filter).
	GetPracticeCards(ctx context.Context, arg GetPracticeCardsParams) ([]GetPracticeCardsRow, error)
	// Fetch a review for undo validation.
	GetReviewByID(ctx context.Context, arg GetReviewByIDParams) (AppReview, error)
	// Paginated review history for a notebook, optionally filtered by date.
	GetReviewHistory(ctx context.Context, arg GetReviewHistoryParams) ([]GetReviewHistoryRow, error)
	// Daily review summary with breakdown by rating, mode, and new cards.
	GetReviewSummaryByDate(ctx context.Context, arg GetReviewSummaryByDateParams) (GetReviewSummaryByDateRow, error)
	GetSessionByToken(ctx context.Context, tokenHash []byte) (GetSessionByTokenRow, error)
	// Returns due cards for review: overdue first, then learning, then new.
	// New card cap limits how many new cards are introduced per day.
	GetStudyCards(ctx context.Context, arg GetStudyCardsParams) ([]GetStudyCardsRow, error)
	// Returns due card counts per notebook for the review launcher.
	GetStudyCountsByNotebook(ctx context.Context, userID uuid.UUID) ([]GetStudyCountsByNotebookRow, error)
	GetUserByEmail(ctx context.Context, email string) (User, error)
	// Get user with password hash for authentication
	GetUserByEmailPassword(ctx context.Context, email pgtype.Text) (GetUserByEmailPasswordRow, error)
	GetUserByID(ctx context.Context, id uuid.UUID) (User, error)
	GetUserByUsername(ctx context.Context, username string) (User, error)
	// Returns whether a notebook exists and its archived status.
	// Used for idempotent archive operations.
	IsNotebookArchived(ctx context.Context, arg IsNotebookArchivedParams) (IsNotebookArchivedRow, error)
	ListCardsByFact(ctx context.Context, arg ListCardsByFactParams) ([]Card, error)
	ListCardsByNotebook(ctx context.Context, arg ListCardsByNotebookParams) ([]Card, error)
	ListFactsByNotebook(ctx context.Context, arg ListFactsByNotebookParams) ([]ListFactsByNotebookRow, error)
	ListFactsByNotebookFiltered(ctx context.Context, arg ListFactsByNotebookFilteredParams) ([]ListFactsByNotebookFilteredRow, error)
	ListNotebooks(ctx context.Context, userID uuid.UUID) ([]Notebook, error)
	// Restore card state from review's before columns + undo_snapshot.
	// The review record stores state_before/stability_before/difficulty_before directly.
	// The undo_snapshot JSONB captures remaining card fields that aren't stored as columns:
	//   step, due, last_review: scheduling position in learning/relearning steps
	//   reps, lapses: lifetime counters incremented by reviews
	//   elapsed_days, scheduled_days: FSRS interval tracking for retrievability calc
	RestoreCardAfterUndo(ctx context.Context, arg RestoreCardAfterUndoParams) error
	SoftDeleteUser(ctx context.Context, id uuid.UUID) error
	UnarchiveNotebook(ctx context.Context, arg UnarchiveNotebookParams) error
	UpdateCardAfterReview(ctx context.Context, arg UpdateCardAfterReviewParams) error
	UpdateFactContent(ctx context.Context, arg UpdateFactContentParams) (AppFact, error)
	UpdateNotebook(ctx context.Context, arg UpdateNotebookParams) (Notebook, error)
	UpdateSessionLastUsed(ctx context.Context, tokenHash []byte) error
	UpdateUser(ctx context.Context, arg UpdateUserParams) (User, error)
	// Idempotent auth identity creation for test users.
	// Creates or updates the password auth identity.
	UpsertTestAuthIdentity(ctx context.Context, arg UpsertTestAuthIdentityParams) error
	// Idempotent test user creation for agent testing.
	// Uses fixed UUID to ensure consistent user_id across reseeds.
	UpsertTestUser(ctx context.Context, arg UpsertTestUserParams) (User, error)
}

var _ Querier = (*Queries)(nil)
